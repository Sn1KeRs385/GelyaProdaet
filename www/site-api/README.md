# Site API (Go)

Ð’Ñ‹ÑÐ¾ÐºÐ¾Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ API Ð´Ð»Ñ ÑÐ°Ð¹Ñ‚Ð° GelyaProdaet, Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð½Ð¾Ðµ Ð½Ð° Go Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Fiber Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ°.

## ðŸš€ ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

- **Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ**: Go + Fiber Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‚ Ð´Ð¾ 132,000 req/s
- **Go 1.24.3**: Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð²ÐµÑ€ÑÐ¸Ñ Go
- **GORM ORM**: Ð£Ð´Ð¾Ð±Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ… PostgreSQL
- **RESTful API**: Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ HTTP Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð´Ñ‹
- **CORS Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°**: ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÐºÑ€Ð¾ÑÑ-Ð´Ð¾Ð¼ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸**: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ
- **Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**: ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- **Docker Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°**: Ð“Ð¾Ñ‚Ð¾Ð²Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ dev Ð¸ prod
- **S3 Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ**: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ URL Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸Ð· S3 Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð°
- **ÐŸÐ¾Ð»Ð½Ñ‹Ðµ ÑÐ²ÑÐ·Ð¸**: Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² Ñ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸, Ð¾Ð¿Ñ†Ð¸ÑÐ¼Ð¸ Ð¸ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸

## ðŸ“‹ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Go 1.24.3+
- PostgreSQL 12+
- Docker & Docker Compose (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

## ðŸ›  Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°

1. **ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð¸ Ð¿ÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ:**
   ```bash
   cd www/site-api
   ```

2. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:**
   ```bash
   make deps
   ```

3. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:**
   ```bash
   # Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env Ñ„Ð°Ð¹Ð» Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼Ð¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ S3
   cat > .env << EOF
   DB_HOST=localhost
   DB_PORT=5432
   DB_USER=postgres
   DB_PASSWORD=your_password
   DB_NAME=gelya_prodaet
   DB_SSLMODE=disable
   SERVER_PORT=8080
   AWS_BUCKET=gelya-prodaet
   AWS_REGION=us-east-1
   AWS_URL=https://s3.amazonaws.com
   EOF
   ```

   **Ð’Ð°Ð¶Ð½Ð¾**: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ `AWS_URL` Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ URL Ñ„Ð°Ð¹Ð»Ð¾Ð², Ð¸Ð½Ð°Ñ‡Ðµ Ð¿Ð¾Ð»Ðµ `url` Ð±ÑƒÐ´ÐµÑ‚ `null`.

4. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ:**
   ```bash
   make dev  # Ð ÐµÐ¶Ð¸Ð¼ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ñ hot reload
   # Ð¸Ð»Ð¸
   make run  # Ð¡Ð±Ð¾Ñ€ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº
   ```

### Docker Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°

1. **Ð—Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· docker-compose:**
   ```bash
   # Ð˜Ð· ÐºÐ¾Ñ€Ð½Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
   docker-compose -f docker-compose.local.yml up go-api
   ```

2. **ÐŸÐ¾Ð»Ð½Ð°Ñ dev ÑÑ€ÐµÐ´Ð°:**
   ```bash
   # Ð—Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð² (Laravel API, Go API, PostgreSQL, Redis, Nginx)
   docker-compose -f docker-compose.local.yml up
   ```

## ðŸ“š API Endpoints

### Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ñ‡ÐµÑ€ÐµÐ· Nginx (Ð² Docker)
- **Go API (Ð²Ð½ÐµÑˆÐ½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð´Ð»Ñ ÑÐ°Ð¹Ñ‚Ð°)**: `http://api.gelyaprodaet.local/site/`
- **Laravel API (Ð°Ð´Ð¼Ð¸Ð½ÐºÐ°, Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð»Ð¾Ð³Ð¸ÐºÐ°)**: `http://api.gelyaprodaet.local/`
- **Health Check**: `http://api.gelyaprodaet.local/site/health`

### ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ (Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸)
- **Go API**: `http://localhost:8080/api/v1/`
- **Laravel API**: `http://localhost:8000/api/`

### Ð¢Ð¾Ð²Ð°Ñ€Ñ‹ (Products)
- `GET /site/products` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹ Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð¿Ð°Ð³Ð¸Ð½Ð°Ñ†Ð¸ÐµÐ¹ Ð¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¾Ð¹
  - **Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹**: `is_active`, `type_id`, `gender_id`, `brand_id`, `country_id`, `size_id`, `color_id`, `size_year_id`
  - **ÐŸÐ°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ñ**: `page`, `per_page` (Ð¼Ð°ÐºÑ. 100 Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ)
  - **Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°**: `sort_by` (`created_at`, `price`), `sort_direction` (`asc`, `desc`)
  - **Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ**: Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹ Ñ `is_for_sale=true` ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸
  - **ÐžÑ‚Ð²ÐµÑ‚**: Ð¾Ð±ÑŠÐµÐºÑ‚ Ñ `data` (Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹) Ð¸ `meta` (Ð¿Ð°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ñ)
- `GET /site/products/:slug` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð²Ð°Ñ€ Ð¿Ð¾ slug Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼Ð¸ ÑÐ²ÑÐ·ÑÐ¼Ð¸

### ÐžÐ¿Ñ†Ð¸Ð¸ (Options) 
- `GET /site/options` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð¾Ð¿Ñ†Ð¸Ð¸ Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ group_slug, weight, title

### Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°
- `GET /site/health` - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ API

## ðŸ—„ ÐœÐ¾Ð´ÐµÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### ListOption
```json
{
  "id": 1,
  "group_slug": "sizes",
  "title": "XL",
  "weight": 10,
  "is_hidden_from_user_filters": false,
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-01T00:00:00Z"
}
```

### Product
```json
{
  "id": 1,
  "title": "Ð¤ÑƒÑ‚Ð±Ð¾Ð»ÐºÐ° Nike",
  "slug": "futbolka-nike",
  "description": "Ð¡Ð¿Ð¾Ñ€Ñ‚Ð¸Ð²Ð½Ð°Ñ Ñ„ÑƒÑ‚Ð±Ð¾Ð»ÐºÐ°",
  "type_id": 1,
  "gender_id": 2,
  "brand_id": 3,
  "country_id": 4,
  "send_to_telegram": false,
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-01T00:00:00Z",
  "type": { /* ListOption */ },
  "gender": { /* ListOption */ },
  "brand": { /* ListOption */ },
  "country": { /* ListOption */ },
  "files": [ /* File[] */ ],
  "items": [ /* ProductItem[] */ ]
}
```

## âš¡ ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

Ð”Ð°Ð½Ð½Ð¾Ðµ API Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½ÑƒÑŽ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ:
- **132,000+ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² ÑÐµÐºÑƒÐ½Ð´Ñƒ** Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹
- **ÐÐ¸Ð·ÐºÐ°Ñ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ°**: ~1.8ms ÑÑ€ÐµÐ´Ð½ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð°
- **Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð°Ð¼ÑÑ‚Ð¸**: ~55MB Ð¿Ð¾Ð´ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¾Ð¹

## ðŸ”§ ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

| ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ |
|------------|----------|--------------|
| `DB_HOST` | Ð¥Ð¾ÑÑ‚ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… | `localhost` |
| `DB_PORT` | ÐŸÐ¾Ñ€Ñ‚ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… | `5432` |
| `DB_USER` | ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð‘Ð” | `postgres` |
| `DB_PASSWORD` | ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð‘Ð” | `` |
| `DB_NAME` | Ð˜Ð¼Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… | `gelya_prodaet` |
| `DB_SSLMODE` | SSL Ñ€ÐµÐ¶Ð¸Ð¼ | `disable` |
| `SERVER_PORT` | ÐŸÐ¾Ñ€Ñ‚ ÑÐµÑ€Ð²ÐµÑ€Ð° | `8080` |
| `AWS_BUCKET` | S3 bucket Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² | `gelya-prodaet` |
| `AWS_REGION` | AWS Ñ€ÐµÐ³Ð¸Ð¾Ð½ | `us-east-1` |
| `AWS_URL` | Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ URL Ð´Ð»Ñ S3 (ÐµÑÐ»Ð¸ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½, url Ð±ÑƒÐ´ÐµÑ‚ null) | `` |

## ðŸ— Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
site-api/
â”œâ”€â”€ main.go                 # Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.go           # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
â”œâ”€â”€ database/
â”‚   â””â”€â”€ database.go         # ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð‘Ð” Ð¸ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
â”œâ”€â”€ handlers/
â”‚   â”œâ”€â”€ product_handler.go
â”‚   â”œâ”€â”€ product_item_handler.go
â”‚   â””â”€â”€ list_option_handler.go
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ product.go
â”‚   â”œâ”€â”€ product_item.go
â”‚   â”œâ”€â”€ list_option.go
â”‚   â”œâ”€â”€ file.go
â”‚   â”œâ”€â”€ user.go
â”‚   â””â”€â”€ user_identifier.go
â”œâ”€â”€ utils/                  # Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
â”‚   â””â”€â”€ file.go            # Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸
â”œâ”€â”€ go.mod                  # Go Ð¼Ð¾Ð´ÑƒÐ»ÑŒ (Go 1.24.3)
â”œâ”€â”€ go.sum
â”œâ”€â”€ Makefile               # ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
â”œâ”€â”€ README.md
â””â”€â”€ API.md                 # Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ API
```

### ðŸ“ ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°

ÐœÑ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ **Ð¿Ñ€Ð¾ÑÑ‚ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ** Ð±ÐµÐ· Ð¸Ð·Ð»Ð¸ÑˆÐ½Ð¸Ñ… ÑƒÑÐ»Ð¾Ð¶Ð½ÐµÐ½Ð¸Ð¹:
- **main.go**: Ð•Ð´Ð¸Ð½Ð°Ñ Ñ‚Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° Ð² ÐºÐ¾Ñ€Ð½Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
- **ÐŸÐ»Ð¾ÑÐºÐ°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°**: Ð’ÑÐµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð² ÐºÐ¾Ñ€Ð½Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñ‹
- **Ð‘ÐµÐ· internal/**: ÐÐµÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð² Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ñ… Ð¿Ð°ÐºÐµÑ‚Ð°Ñ… Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð³Ð¾ API
- **Ð‘ÐµÐ· cmd/**: ÐžÐ´Ð¸Ð½ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¿Ð°Ð¿ÐºÐ¸

Ð­Ñ‚Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ **Ð²Ð½ÐµÑˆÐ½ÐµÐ³Ð¾ API ÑÐ°Ð¹Ñ‚Ð°**, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ:
- ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹
- ÐÐµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑÐ»Ð¾Ð¶Ð½Ð¾Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹
- Ð›ÐµÐ³ÐºÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑ‚ÑÑ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ

## ðŸš€ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ

### Docker Ñ„Ð°Ð¹Ð»Ñ‹
- **Dockerfile**: `config/site-api/Dockerfile` (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Go 1.24.3)
- **Docker Compose**: `docker-compose.local.yml` (dev ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ)

### ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ development

1. **Ð—Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²:**
   ```bash
   docker-compose -f docker-compose.local.yml up
   ```

2. **Ð¢Ð¾Ð»ÑŒÐºÐ¾ Go API:**
   ```bash
   docker-compose -f docker-compose.local.yml up go-api postgres
   ```

3. **ÐŸÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° Ð¾Ð±Ñ€Ð°Ð·Ð°:**
   ```bash
   docker-compose -f docker-compose.local.yml build go-api
   ```

### Production

1. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Docker Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼Ð¸**
2. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ reverse proxy (nginx)**
3. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ connection pooling Ð´Ð»Ñ Ð‘Ð”**
4. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**

## ðŸ“ˆ Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ Laravel

| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° | Laravel PHP | Go API |
|---------|-------------|--------|
| Ð—Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²/ÑÐµÐº | ~5,000 | ~132,000 |
| Ð’Ñ€ÐµÐ¼Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð° | ~20ms | ~1.8ms |
| ÐŸÐ°Ð¼ÑÑ‚ÑŒ | ~200MB | ~55MB |
| CPU | Ð’Ñ‹ÑÐ¾ÐºÐ¾Ðµ | ÐÐ¸Ð·ÐºÐ¾Ðµ |
| Ð’ÐµÑ€ÑÐ¸Ñ | PHP 8.2 | **Go 1.24.3** |

Go API Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ **26x Ð»ÑƒÑ‡ÑˆÑƒÑŽ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ** Ð¿Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸ÑŽ Ñ Laravel!

## ðŸ³ Docker Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

Ð’ dev ÑÑ€ÐµÐ´Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÑŽÑ‚ÑÑ:
- **PostgreSQL 16** - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
- **Redis 7** - ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- **Laravel API** - ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐµ PHP API (Ð¿Ð¾Ñ€Ñ‚ 8000)
- **Go API** - Ð½Ð¾Ð²Ð¾Ðµ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ API (Ð¿Ð¾Ñ€Ñ‚ 8080)
- **Nginx** - reverse proxy Ñ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹:
  - `/api/` â†’ Go API
  - `/laravel-api/` â†’ Laravel API
  - `/admin/` â†’ Admin Ð¿Ð°Ð½ÐµÐ»ÑŒ
  - `/health` â†’ Health check Go API